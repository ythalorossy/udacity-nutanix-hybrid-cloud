{"status":{},"contains_secrets":true,"product_version":"3.0.0.1","spec":{"description":"Production 3-tier Web Application","resources":{"client_attrs":{"None":{"y":249.5242543044,"x":36.8952403805},"e429b102_deployment":{"y":145.4835911778,"x":126.0636681374},"03185f76_deployment":{"y":-161.5019891424,"x":-102.7927721011},"8d7a5c0b_deployment":{"y":-161.1771969117,"x":122.0849647415},"4e46245a_deployment":{"y":-149.7586147439,"x":355.7438380633}},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"445785e9_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"86a105c6_runbook","main_task_local_reference":{"kind":"app_task","name":"445785e9_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"fb828d74_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"aa113063_runbook","main_task_local_reference":{"kind":"app_task","name":"fb828d74_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Restart"}],"name":"ff47f0bd_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"fa66a9e2_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"ac60fe4f_runbook","main_task_local_reference":{"kind":"app_task","name":"ff47f0bd_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"WebServer_Stop"}],"name":"a11b8543_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"WebServer_Stop","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl stop httpd\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"98fef3d7_runbook","main_task_local_reference":{"kind":"app_task","name":"a11b8543_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"WebServer_Restart"}],"name":"f214dae0_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"WebServer_Restart","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl restart httpd\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"fa66a9e2_runbook","main_task_local_reference":{"kind":"app_task","name":"f214dae0_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[{"kind":"app_service","name":"MySQL"}],"name":"WebServer","port_list":[],"tier":"","variable_list":[],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"b2d7da13_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"dbbe6873_runbook","main_task_local_reference":{"kind":"app_task","name":"b2d7da13_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"bca79f09_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"f5e3cc48_runbook","main_task_local_reference":{"kind":"app_task","name":"bca79f09_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Restart"}],"name":"1ed67621_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"a5b1f46f_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"6ad336ea_runbook","main_task_local_reference":{"kind":"app_task","name":"1ed67621_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"HAProxy_Stop"}],"name":"5d9ab5c9_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Stop","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl stop haproxy\r\nsudo systemctl daemon-reload\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"48e7907c_runbook","main_task_local_reference":{"kind":"app_task","name":"5d9ab5c9_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"HAProxy_Restart"}],"name":"e7ac7d5a_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Restart","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl daemon-reload\r\nsudo systemctl restart haproxy\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"a5b1f46f_runbook","main_task_local_reference":{"kind":"app_task","name":"e7ac7d5a_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[{"kind":"app_service","name":"WebServer"},{"kind":"app_service","name":"WebServer2"}],"name":"HAProxy","port_list":[],"tier":"","variable_list":[],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"4106c183_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"fe7b3f6d_runbook","main_task_local_reference":{"kind":"app_task","name":"4106c183_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"904da31e_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"279a8350_runbook","main_task_local_reference":{"kind":"app_task","name":"904da31e_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Restart"}],"name":"68b60125_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"507995ba_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"135ab4b7_runbook","main_task_local_reference":{"kind":"app_task","name":"68b60125_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"MySQL_Stop"}],"name":"a89dd3ba_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"MySQL_Stop","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl stop mysqld\r\n# sudo systemctl status mysqld.service\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccdba"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"4cbddf9d_runbook","main_task_local_reference":{"kind":"app_task","name":"a89dd3ba_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"MySQL_Restart"}],"name":"f8a00a3a_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"MySQL_Restart","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl restart mysqld\r\n# sudo systemctl status mysqld.service\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccdba"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"507995ba_runbook","main_task_local_reference":{"kind":"app_task","name":"f8a00a3a_dag"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[],"name":"MySQL","port_list":[],"tier":"","variable_list":[],"description":""},{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"445785e9_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"86a105c6_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"445785e9_dag_cloned_1"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"fb828d74_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"aa113063_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"fb828d74_dag_cloned_1"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Restart2"}],"name":"ff47f0bd_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart2","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"fa66a9e2_runbook_cloned_0"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"ac60fe4f_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"ff47f0bd_dag_cloned_1"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"WebServer2_Stop"}],"name":"a11b8543_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"WebServer2_Stop","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl stop httpd\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"98fef3d7_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"a11b8543_dag_cloned_1"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"WebServer2_Restart"}],"name":"f214dae0_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"WebServer2_Restart","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo systemctl restart httpd\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"fa66a9e2_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"f214dae0_dag_cloned_1"},"variable_list":[]},"name":"action_restart"}],"depends_on_list":[{"kind":"app_service","name":"MySQL"}],"name":"WebServer2","port_list":[],"tier":"","variable_list":[],"description":""}],"substrate_definition_list":[{"description":"","action_list":[{"description":"","type":"fragment","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"WebServerAHV"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"b3b9217a_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"5b00ccaa_runbook","main_task_local_reference":{"kind":"app_task","name":"b3b9217a_dag"},"variable_list":[]},"name":"pre_action_create"},{"description":"","type":"fragment","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"WebServerAHV"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"bdffec80_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"9e63a82d_runbook","main_task_local_reference":{"kind":"app_task","name":"bdffec80_dag"},"variable_list":[]},"name":"post_action_delete"}],"type":"AHV_VM","name":"WebServerAHV","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"boot_config":true,"disk_list":{"0":{"data_source_reference":true,"device_properties":{"device_type":true,"disk_address":{"adapter_type":true}}}}}}},"os_type":"Linux","create_spec":{"name":"www@@{calm_array_index}@@-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"3608b56a-cfba-4481-9669-f4cd5274f546"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":1,"gpu_list":[],"memory_size_mib":1024,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\r\nusers:\r\n  - name: @@{teccadmin.username}@@\r\n    ssh-authorized-keys:\r\n      - @@{teccadmin.public_key}@@\r\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\r\n"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"d7afda48-8eba-4306-9acc-f7790f7de1f5","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CentOS_8_Cloud","uuid":"2f756c35-d51f-4df3-a5c0-d4c137df0fb4"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]},{"description":"","action_list":[],"type":"AHV_VM","name":"HAProxyAHV","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"boot_config":true,"disk_list":{"0":{"data_source_reference":true,"device_properties":{"device_type":true,"disk_address":{"adapter_type":true}}}}}}},"os_type":"Linux","create_spec":{"name":"HAProxy-@@{calm_array_index}@@-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"3608b56a-cfba-4481-9669-f4cd5274f546"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":1,"gpu_list":[],"memory_size_mib":1024,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\r\nusers:\r\n  - name: @@{teccadmin.username}@@\r\n    ssh-authorized-keys:\r\n      - @@{teccadmin.public_key}@@\r\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\r\n"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"d7afda48-8eba-4306-9acc-f7790f7de1f5","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CentOS_8_Cloud","uuid":"2f756c35-d51f-4df3-a5c0-d4c137df0fb4"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]},{"description":"","action_list":[],"type":"AHV_VM","name":"MySQLAHV","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"teccdba"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"disk_list":{"0":{"data_source_reference":true,"device_properties":{"device_type":true,"disk_address":{"adapter_type":true}}}},"memory_size_mib":true,"boot_config":true,"serial_port_list":{}}}},"os_type":"Linux","create_spec":{"name":"MYSQL-@@{calm_time}@@-@@{calm_time}@@ ","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"3608b56a-cfba-4481-9669-f4cd5274f546"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":1,"gpu_list":[],"memory_size_mib":1024,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\r\nusers:\r\n  - name: @@{teccdba.username}@@\r\n    ssh-authorized-keys:\r\n      - @@{teccdba.public_key}@@\r\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\r\n"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"d7afda48-8eba-4306-9acc-f7790f7de1f5","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CentOS_8_Cloud","uuid":"2f756c35-d51f-4df3-a5c0-d4c137df0fb4"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]},{"description":"","action_list":[{"description":"","type":"fragment","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"WebServerAHV2"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"b3b9217a_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"5b00ccaa_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"b3b9217a_dag_cloned_1"},"variable_list":[]},"name":"pre_action_create"},{"description":"","type":"fragment","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"WebServerAHV2"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"bdffec80_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"9e63a82d_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"bdffec80_dag_cloned_1"},"variable_list":[]},"name":"post_action_delete"}],"type":"AHV_VM","name":"WebServerAHV2","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"name":true,"resources":{"nic_list":{"0":{"subnet_reference":true}},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"boot_config":true,"disk_list":{"0":{"data_source_reference":true,"device_properties":{"device_type":true,"disk_address":{"adapter_type":true}}}}}}},"os_type":"Linux","create_spec":{"name":"WebServer2-@@{calm_array_index}@@-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"3608b56a-cfba-4481-9669-f4cd5274f546"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":1,"gpu_list":[],"memory_size_mib":1024,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\r\nusers:\r\n  - name: @@{teccadmin.username}@@\r\n    ssh-authorized-keys:\r\n      - @@{teccadmin.public_key}@@\r\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\r\n"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"d7afda48-8eba-4306-9acc-f7790f7de1f5","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CentOS_8_Cloud","uuid":"2f756c35-d51f-4df3-a5c0-d4c137df0fb4"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]}],"credential_definition_list":[{"username":"teccadmin","description":"","type":"KEY","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"oTmDRsMKcl4BUavy86jD0jpVwF5\/ArxYm3f5UxzBdJ464eJDtjLkKNppiU982ouIWftHDncGZkMScI5WU\/4\/4G8zNCatSSM3MkKAmSyrZVqxfCitKCg0dIzag2dEPSgoeAORRn3aGW+ZBNfxXMNvSV2nD09ziKawAocAd2R6mHVf43sRKG\/owyH0hwy\/u846UfeB57RsukQYAn8tKIWw\/UGPBN3UrOX9IIAoEVJxPVAU0hMTWGCn6nSsne0KtiwQ+chek6ywbPx5sQAKvE2r7Tj\/bgmqV7gPrpOeJ21F8QCDII5A2mAtuBm0JkPONOQWWCpCFIV6vaBtePCfV8FzDkEoEOml4wuwiD9PRKPddMORJjFRohx6Q\/BmL+QjHlnn\/iU1qeR2Y6U79YkfFJ3QGo3egBrwAAXxHhHAimd+a6WK51hlhKriKhtHVZnyTzG\/jZW0N8zFV2riKVDr7P7XWP7sNfqOf95TkC61lhj9Wac1mYMx5upF880abpiWP2l4VDW5ZhD219955Olv7ZPnmwbug9W5d5yK6VNZsQEfEImfmpnpccL1MfsngHu4UVYHiEQW9UXhlU9pIGswqkckMJZbgMGWMUi7ocr954VhWh+bOEKzs9LxAz0QwgYqtllWzlBC8ytfIXr0DAmeVuM2W64CZ9gMb9BziyKuGNZ7HqBR2JfVV57nIKW+IFt7FGNdRfDelLnLgqMrpW6oT22O\/RQzZwFOgsYVG1LUH7JA7IG3tm2TibxOJ9\/DB9jd6099UqqSK7Em\/wG\/4DlJaFwX2o2OUq2Le2kReA6oSAWTOfFmAcjeAO8v4Av+\/Ha3YLYpWNZHJaAv17R\/380d3ACA+nFeCq+2avfx\/WnqIn192Ji6Emr\/urPRMMBHZeX\/qdnYRrXHwmZ1jLvAztnGJEdZl9jGmvdQ5y4v2ipKXyyQW\/Afxxg7Ri1k1bjDhtzILIzp8nTaugURs+fsobD+Zkil+1DV2y1Gh14xUuSg5S0s35ghoYg55o02vKL3+XiwFzroyZuycI8BRMUKWE3xKBq3Uc\/2fVOEMK3bRi9pAOvs4XdChuWPOiKaIR9CJ\/y+c8G9APmB5lk8b65YUKsUD7HamPP+OvENniAS8RI9OUtbU6Pqnwn\/Kw\/yMuPDDoHqmaoX9R23C19JTeYD4P9nf7Qk8Rts\/p8kaS9w3V9nfNsSXQHwnLBcd5SbA39xMa7l99gjNnIiN7lkkY1tqoHLB6U28OontFr85emiQSTSUyY0dFM2Xo6udIlzdckr29GFCfb4jBey3nCd0KjDZAEGGUhHwiNBnZ8n9H6n0iRgfczI\/vpXmR3bWLwnzRfA184E6zFJlfz3FSDGeZ+eokX+Ao8DufLIxVoZwBMSBTdO3Vpf6cWHLBnXrSLDzL9VDUJCjbWAaNbeoSTfdh9sk2iQUxcKf8ibxjGPaV3svy9YNji3WqaKQMZ8GcckFGpXGklFtz142eDJAPb9OaQCJ35BCtjRiMsE9EIDLoAKaKJSVnrgTGLGkbMa68kZI\/djIKOocMydjyE1Nu+ep3XeGTMoVln76RpC1Ogbkb\/4ORtX6rGF92kA+H6i8jtNmT\/jpzxamtGHRF663S0dxxxZSInieV1lIRiUIiJB6ZY+Wy901AHg9bO+F1IBYOBRrL7qItbA\/OVMcH8ezirr6UlaDU7BnbBx7DWSv4kQCITEpQqLzTMp\/9EKom0lINUUUmFobXmYA65ML9PSx5sPjCrbq26WgYw\/QoyUCK\/P\/zy6K2fzL3Sv4ukTmzIT7xoN5axOvq+ItKz0YAcBbQLbiQ84D8mFOYqj0NMZH39At4zuSkY2rApERX7co6QoMcOHyZ5pZtGyx4S+iUj+xD1PhlZ8GHVG3du24FFwuCbd2PDrvoDPRMyze9GBMPOkZEmvtCHL2uhShoGzAF1BDeCUWgfGx+0dCQ6jshRaK3e0aHMFBYZJ82Op\/DUJE1rW\/d15TBpA5PDyv49+gWG4wat2oxIutduudK+rnfDdA\/EKYXlAgTOfRn9ZznRooLenMOZk+cinAy3YIoaTJ20n5yx0H5uM2lXW0mAyVI0y0aozfu3BGehpHU2jilteEASrnXjhP8Lk6KO20sDyP+xZK0CHHI3MHpR6BKujiru9iX1rIOHMraRFI0l\/d8laEOv3nr77D3TKXZHw1NXYWklKZa3rXs5So6QaowqGpveDVTfa0ttbVk4UDj9lKlsloAfMSLXaUtx0cw6yVP1V0IO\/tm5UtuJ6FzCPu5E+W220ZAnU0vf0R3VZrNwx4ENvlrvnGVmDp5IiBAJ9zjjuf9+FQZ\/t2dsb\/Qqpp3CX+sNjwmY8C0oE97jl6iaDtuxk2p0LqUkxffhwAm0JYvw+vVoGHKjf0nrNy3pSmn3Y\/IWxdWjBi6DFKSi6Fgb8zLmNz+bORpDdca5ynTKFN\/ihbL3Ue+0+K9\/VHr06gaAOd\/GlKuCO7arrvAcDHMf9H+kSlbf\/1jlYjlhWvmE\/7L+nyRyH4jLibmt8S5kbSZX3Hm1CeZkVNN0n1cbS1UjEl57nhyIihXxYKZsD84Lgly8TgEl\/ChA3RvpAak01U8QUuQkGc1joRQL6Qpz7DkfM+Niekgi+mw\/Cp26n+xSHVXl3r8cWNQCS8dY\/cO5xRdlYTriSv3KvLVQxEwOl0WsCN4MaTeNgCR\/JdXV8D190N\/7qdiecpZIYAZGr8d5GX1loM1L2DaqeqxSMA\/wlKjmQTlMtyBbPiacUC\/jXR6zVoonI+6vHtfzTTb+qaqrxF\/WWKEvVBbhdwlz76UuDaJwdjWfZTE45h9DShZRFOe+A8b6Tv5VNy1y7qbWynTVr\/cSYw3z6IN9ZiWkXqsXvgQBttFJDSshEVecg3x9jvJltPrxNaLRl9Eye7KJYx5djCJireW6GydoDEPhNmZ9G7J8pkr85VjdEvLzroRWp5QNW4GlerOeAHaC4PL6vnMsW59n6VhuNHueI77FdThcKqJZ2aFwfkSn3uq6AjYfeCgam8widMmiJPQeXdO+VeT21JVNwdYlQgxxsyzwMWB5X45M056EFRQJBr8EC9q15ECXfmmG4G288RW5E3mKJnk1SoGGVyRXALk4tLwWPHQ0KPU2ih5p8K6EzExHygduhJA3rYrDg9r9O2usaAfFlGcMnqU8BqDiBRMGKOMVE1d3PWGDQaH5gfonb74rt9XK6tpNCBAYZLvPqnnhvh7inDpHtr23BWkRN\/xprFfdDh0Z6ZVO4wFqsN9PIgJIotmgx9lbxigFmvcGLqHkjmpBtZbUu5Lj8RJeUDZzg797DYmoeaaAtKXQa5koVAgKe:utf-8"},"name":"teccadmin"},{"username":"teccdba","description":"","type":"KEY","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"BOCNjLzlfPJJZhmts0qvmLks6qyoMf7++mLnzJvzwWbY0winkiriN7+NkJCzyabSlR3uhONU8Lb7uqfdNupt4+s7DCuLEz+r4hRScA1UZ\/2Hng\/8lbaWl73PGoH6CS6bupFo+ABLHMYVzvFSxadWKMSF+KpFOKwipZEVrY+P1cDd877elWrGMfHhGZwpxStDnY6ynYkyd8jWPRCmRMrvbTPc7B3V8n56mHIQoUrQhQu4j13OaWRqGA8l30VHBT7vXRCZt\/73yLLcVlOKnBm2Q7tdD31vcMjVhhDYFXnT3O42CNfMZjlxGJWHNCZ7NklWYmupdukNdMqVZHGyQS6rx+uztSWT8Yg5Wh9skC5dleKGljbCfkQEG74DQbaLzFWrudK7kQYhD3jX7QBOV\/H+Y5qt3vINREpvpbP\/bdgVMcWOG8SbqxPiLgzhQcRF9ZhY3A\/t9OWxfbf2KMxcf5oBbRx9AeXakZViugZSu0GKE2\/cIkpzn4C1IcoaozvUkslRTMPeAF+lX5Hgu7bUNOn4Fs9\/+lI3i4aWkgO3uEvP1jHTjZnBegIpuV4yNu6NmpEKK6DmQAzVvdEa4rJZrwrPFHQmtKjvQmD0wOQRHThEVnC6qXvwcB4qAyFLJGMgGLC02p35pQyUwQNHl8Yj9VHex1vn9n\/OZI\/Kr876WHEQ3hnGz21jvbDe5HrIqn192do3w\/tcPwfwhJWShnecBGBTOpZMM9un3myad81zn2okVo4Q+l3L56hrqYM+hb\/ymtf2XMwEbjALpInQaiRppRuXlxNK0PuiI4YKBirADCGbKLnW5byg4UDTmEzmof9rzYXezoxXiBV84agVTLbQCtqVKpbLcQ31gxqPVJzNnpS5TX3Ud2WootgXRj+s52DTBWbwfvC4negA\/ho3jDKktzuSDpxJY12b6Wb+mmBs9BZ3IYdQxTxDhOrX4Fa7Ecu9kXRxm6oBeOgRMUP7K8jcpL9G7VbdaahuMxgpMwGNSdqvyTTqPp7ZDo5Wi847u4F8WlONHLpkHowRgE7BTV19wMNBAn1UJQHQz1cwxkP9FXPMUjclALmtJFILSgzV1wHKOWv9ycvNgwMkQvxdkikfUl3Kn7BLl2tc3h60cJ\/rEl6EKND2oVnkyzfsC+UdkaRCcIDKartSSWhCSSofo6eO81FQMml0oqkGnpjr2pIHrXn2CCi5YY0Om32FucOcRs4z3SG9OUxKZ5GNQC0B1SJ\/t\/FoQjIdGzLruG+18JE7LXwXdIkMx1Oqstz+8HgtD7ragp5Ppq9EL3jepfdP+PFlpa7HCp6fhIFkNL5NVWH3PNpsIPd5aPVMh\/ZpyzvChzNwvDoiXGAumAzPpMA1YTJtXhK9RqbfBRTVb4EbIcXpyuPyBh2jzKwR6MJtImUT\/fI98uTvarF8TxOjvF2zqc\/YjKVrcvQJB590pqtLcvQViS3q6WMZ0mZvNRE7gKhGj21HELoyBHsCXaNwqBxUudvOaixKxz6lw8943tGISG8D4OylwObeevO0NtoiH2qSQGKZVQtVp48ULX9b2nAjasDFQFZx6Q2RWQpnBVMczU7GCS8VkKEjjDeoerQG1ASsywxtw\/Z\/PJYwODce3IiV\/6fRLgE81JQfR\/kLcxlt8aIrprThOYRYNpdx78Jz1jI4HL5eQHxLPOLcvR90Ccj1v1712aB3ys5pN2ZCtyoTSs9wMFmG1LX9vKqvbPM1Bqbo3iIw3vNWc6K5DWt+Ltf53JjvaWrJ64Mw56P6fAhOhJiMBEvD0aqyl5fS5DeBF6pg\/pfvN+Xo3wR5TEUPPiWpkworA\/2W3kXcMM262l1OCjZugKrui1CNGj\/TfNuW03XNIlvXklqMCcIAOjBrUoC3iaSjgb4XAAnt\/se2dhg9gykyx9bu6L63g+RUN4CnUAwp6RN7p\/+gZs36jKbN0kF41K5rA4I+\/jZ3gHj4ZXExQdgwqx+n8\/PWpTJ1N3CvK8tF8rtvtZCPTJ2KcuDz+9FERz9GvWIJj03CHTRqM1rZEqkqhXh060KkaanRLxYCwbUz8iMfAV3jOqp3YDtR\/npXtEmSUh4qm0zqi9n34QeVuBNANMA+jF6atb0JwkQPtCsGq6IoDDt7jmDRYkrF+p+yY4ghhcHHv7t5RaSkw\/WqQGL4R+XmswTA7pryX2TtImlpSizv7foTDrP5TIR1r49ehTLYHG9YeJi81Q8M0AHexO3rg00jTMJlZ2NRsF+JuF+OygbU\/AO+0nXwPTEHPYWIZvgzIX1s4150LWkUYhgnZrhf65A9D5p\/RWz6OnFamwPfqd9KRGQ5nqwgeL7qgXLOyZtsacHaSiltoOmNK3DVo1H59EILXjybWV0FAmp+jvGt\/B1UtFwwYGb9AAo5emY9j6mkzHigjySnjKKkJ3od44pf37XK538ip2uQbsLH5VkMi6Vuf8oiIqUe+0kKjHSTvHIWbve7Z2q0ZscQj\/jX5nIajJ0Nxv5ujrXXNTE1Rt+85rc2sorKYuLabWYsTZ2iysAHiYZuDiRZGdiL7IkQCrd4Yj9nHNZDI74QMEJdi\/Mo9sDOE3Idq7G9Q2OinroyNHvyBfHkozgwBLl0GFZ5IGMVGuyb7omA4pqvuuxkrupOxP6VYLck28Ep1l7jxm8C77A+jZttCy+2plQM\/+Hr1jeZVRi8gLUm7a\/KhZ400e8B0r7p+wq61WNrJp3b+b9p4i9tRw4pFDzg5iO8p+2HB2U0x5qa6ZLiYhjA\/lJ7LscF39Tlnc9RrJMIp7YtOCUNJxYai\/Otz\/BJc\/1\/GpIu1Jw6r9ZoQN+LIvI0tgyG9voSzpCwwziuMRQYHqUxGs8X2lZETZcrMRhsS6OHYTN4pamV9uw\/PicugA9FsxyDW2Ki76JALy\/DWtOdVZ7\/P2KGnj3nGMSAWouUddupIh3q0gSucyXCKkBaQDUrWB461dEp8GKsMb0WA9AVfukumhgRsss6OfwIY49JeUfvbChnM7UwtJblB6\/XPII0Yrmo2J07bbeO2ALIB+tOx0J4+VSpegIere48TleWqhYDCMbE1fcZ99ebBXfVGMfrVAy8UOcwVf217FjrhmXmvNN5nQW1sV1kz0rCOSKC7QG6PCYcLEeMfB2EGxYVdEKlX3TMlrh5vj+N4NyC56C97qLi1LLN6pFLl75d4DRIPJUWKfFWK1CaPYGBb687oOvzZhvmwh2pTp95woK40ixgJMKXjUX+LC7Z72c67LEkDqncLKMnX7gwuI+k1l9NeBiOeuBYbZ0M2nbFDTEUkGRbS48kEAg0ITBQIiEsF7L7C8+hNR8BNHJr1bqX+F8LQuyhlSlw:utf-8"},"name":"teccdba"},{"username":"superuser","description":"","type":"KEY","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"8NEfSeqdYBMgNuAqIMA7M7K6ahMABmdDmFXnp689tsRMaXCUMlqOl0p24Gfm8Tc4s4y0anFBN82IpLH30F+fHouf1bLVCgFbBzKaFcNcLdy0qAAxOTDMylnwjGjxasjN27WCqsM2XcP1\/o4WOqaWi38YVE\/2yZliM94WTuL5+5bxUKwQzrHH9iVUUO1J9ejfQ+vVgKGy6ijbyaCRSLXODuwKVJ3YCMLxW9\/3ln0ytFjB9O5GU9HAmg\/fvKvDWS\/2Ij\/hf4cHjtPJ0zXMZMT5TsX0dHjIwrSSURYxcjP9MiTsJD\/y9HxAfKsUBEq2ZmjICSKZLjVcms1fJzoyNnae\/xRGKrNLuE6cuIrPqKoONORObLEc3J+xiPt67sUeFf0R+yJVrHJyX+A4btYIJbihn94w1F9OjwHx2DAc5YPbMpsdlHtxDhTmlaXZAyONYlX5P+d2r19f7X67dJrhgu5npFBQdSBhY1plCD2+CohzCVB7Ma5YHZsbeoK5IueOzcxUikjcxklFnLZMwr5MbwGGDAw1XKBGKTTV+QklEFo\/VrWzD1s7Im8F0vXqSDxZomnPSBgN9jl+5IzMhRkoB7Ef7oEenGYDqja\/jMiPuEofsIkU0UPGFkd71NPP+qQST\/4Fs+DLd\/QvQwpw3epVyL6piajMuXKmwbq\/whFV\/rfUTvZQFBL+38EX4+ZKlnv0ayg\/hMbEnutXJp84caggdTpbDGdO9XzJA9vOlEdxrwo+okc6GF\/lZAnGlzuhalLOP1ujW8mJHxY8iJkqXnRDSJ4Cd2jIInEZvWbeYQ5oa8tIlYwBPxiVJfF1LDkHef4xx1BbHTvIkndGF9OhTfZYuhw5LFYi9pW9pjt99gdV4HatIQ+TmdwAnBMfapNNT7X+sHHZ0IkEP0YG1Z10p7MUNrvD\/gWAqVRSEOsx0EbOdy1urPVJmnBnP4IELLJmRP+nvwmTL3S1bvyuMMoVd\/Sjoay1UxTyjrQ5FMRJqJiP8nrDOgNOlTRFM351muppwH+E8akRvu9Y7HYtmdRwPvMpTR9cOEEUrU5N7WZKB2r1NW563D4JG7ZEFy2Hbqfii5gfpP6rIQ\/8nNVeoZImSy7TI\/kFFrOm2tpDcDxyxytejfFfX25iR6IYwcEo1rLvhofn7rGhvisM\/6uMRtouF5n+TjlBi95xVVfws95nphip9KHPT04NaN0YdK+tIRt2wPt+VE+N7kogdqPjn66bgKqhjRZ0kuXBA7L0\/FiypGimZmOp6NBiZvOqR5nIhDvI2CC1KZyhfDvGJ5vmqPCfr3eQCr+1Un+QYIcGufC4N8t3EIGbc6bYKcW22wfUZ\/dz26pa+kNJLtZCUAGxbftHPhmHNFDkmvgeWbXxf+eLq3bEoWD77NqiSpoxRKZ8NkgPofHuHoMI\/MrGoztwhCTIiidlZ+EacQJ8HsYPwFch0yl2uuzOUK0xMSaWui\/WajpdrVgl6yT+V6zd9LsKoAnV10kOGGekNi2YfcPsl0mO75aIqCP1ZE7bAd21WDQ3juh8Zb1zm18bwVvWVVryrNIZCFaUrdalWDP7+G9B13GMyO3sgMrgRdtu\/3YPqOZ1s360+PkuQhI1vsdTp+0sfG9CM86s7dUwES2x6j2BL7L+7XvvAZGzXT6gswWvCT3oHYZvA1aW1Qx09zMMN7YcLx8uJq+96\/DKDqG82uaGWt6TUgEkQmngPaoClo3uYrc9A3EKzR4h93+D2lKPvslj4CmH1P8zsT63QN6ZK6r+CZ+YE9qt7fu7z2D6XkJR5qeFM6RjS7fAGj8WxB5fkmac6A+mtryjLz1eoXWKLhzhJ24jQH2j4nUQxHoia1qH1pgDZlZG\/kqPyP4YN1ZQpaPbH8yFumuS9ALsDiv7bqrZlhIyAVN3qeji3FzgbP8DfVCLebZlKjKqdpCDhxbqkQbkA1pV\/NDyb7DwwPTlC6FmmtJlT2HvZQHdNXhlNpgDE46Cbjou+yCINN4OgjpqhhQETn4zeV8XCNEFUAOped96kT9AzySYpIaRGDa5Sf3y\/+HVUjymW2ag2R1gcl3jN7O9VPIfCEaNs6FksOct5rT33OuQQnAAM8hCh0ka1uY72vwdxj4ZGjKAz0OjqcIufVsuoMiCfK+JE4aOPP3hFlW4Ouunv4hTU6DN2e3CsX+tLizbo\/mAq6EajZ1Kfe4H9dPZuTFjwmZw35SVYfV0Q4+UM0319BFfwxifjAFSudT\/i\/5zIgjZbxzEclMX0A7NJF6hsoBC3oaodEeEBgykYfIYlhY8lGI0nqmvni0t9tfC+7LlvvgLvI8FwmDLnN5q8U2JAUs6MV2gYQLEP2nQ9eKJ7exdh05wI3jZQ1QuUzPZMLaUWuzfX5+qmuFVYhAOLcPUL70gIfG2LgAz2jKfuchRvoUHHLlk3It1wnk9dPXiUYdyFnNTreW\/8Xht8X88ekYpOwuMPeGdmqifBTcd43LTI\/3QpZO3uKD1qa7DUvqJpbhVBHSO4k7dSCmvqWauqsY\/UL3S9CuFme6\/zO3z2zgtLW0STQmXaN0PzHEbT+EAo5oX9iQSJTS26AZeHhseDh75QwjURvFaYrQAA+xFGfhapPqZpYZX3Q\/P2SHScv9GP4VRIdflF3ZLWMWdKUMc8p\/dJiTIKv4Haji79vwywOfe31f5QWNgWwIaK5zU7N+PUebMwkJVCTvPfcrlouMUhtQuIWN30LcSX4EdsaZSaKT0xRLDX47eumvCo\/gY1kIrZ5rSxdvLNwiFiEHPfxa\/G4syZxP9V1Omq9ZDv2KbbMZv\/fM+d1PxTo3lhyVKY9y5qzdXoftseGsq\/fI5TT4NnjGTJ+o+ne9ZNAWYna6R1pUw5KjFUTr5GgOLDj3rZ2QkUouYEdJ7zAnEMA99jY\/7nsmU3fbdMSWhEsBnhLGFpRJSrqDIB\/zaFrutVqHagJhrOAUW4Jq+P11A7YxhtYUlpMywxYMx2xQOjiM2EpKH8+0tdJxp2cNWGRIl42SHRVfKCLsMYnkmCjKL+dNMCJwmxrgler3HXD9xaKZkZvKf\/9bA\/26NoEDIROBgY1Fpcd8CaHcWchfB1Pyn9CLLx3KnqbK1tNOadnqZHIdnQuUbr8QbRbNAStxdFUiu8EO4fTBXnMQW0niYTQhBgMFGMvajU9N1+Ejv92gvoVl3QWteayI3as+0w+2p5794bEjMUzYLQuiyCHTHw5Unki3ydyDcbP8loasgGwgAH6nr1zSOAU\/FZuw0\/7qEk0w1gFVvKZpzFiSW3+o2NPG8h6LokKYzhe3U\/d19R7ZWELsEvLjs\/YPlJjj+f\/fzvLy0HX1IGHf9lPkb:utf-8"},"name":"superuser"}],"package_definition_list":[{"description":"CentOS 8 Cloud Image","action_list":[],"type":"SUBSTRATE_IMAGE","service_local_reference_list":[],"name":"CentOS_8_Cloud","version":"","options":{"type":"","name":"CentOS_8_Cloud","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"https:\/\/cloud.centos.org\/centos\/8\/x86_64\/images\/CentOS-8-GenericCloud-8.2.2004-20200611.2.x86_64.qcow2","version":{"product_version":"8","type":"","product_name":"CentOS"},"architecture":"X86_64","type":""},"description":""},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"WebServer"}],"name":"Package2","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Package2"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Linux_OS_Update"},{"kind":"app_task","name":"Install_WebServer"},{"kind":"app_task","name":"3Tier_Webapp"}],"name":"a0484eda_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Linux_OS_Update"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Install_WebServer"}},{"from_task_reference":{"kind":"app_task","name":"Install_WebServer"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"3Tier_Webapp"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Linux_OS_Update","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo yum -y update\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Install_WebServer","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\necho \"__ Install httpd and php...\"\r\nsudo yum install -y httpd\r\nsudo yum install -y php php-gd php-mbstring php-pdo php-mysqlnd\r\n\r\necho \"<IfModule mod_dir.c>\r\n        DirectoryIndex index.php index.html\r\n<\/IfModule>\" | sudo tee \/etc\/httpd\/conf.modules.d\/dir.conf\r\n\r\necho \"<?php\r\nphpinfo();\r\n?>\" | sudo tee \/var\/www\/html\/index.php\r\n\r\nsudo systemctl enable httpd\r\n\r\n# temporarily disable SELinux to prevent httpd to MySQL authentication issues\r\n# this is for testing only and should not be done in production environments\r\necho \"__ Temporarily disable SELinux...\"\r\nsudo setenforce 0\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"3Tier_Webapp","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\nset -ex\n\nsudo touch \/var\/www\/html\/index.php\nsudo chown @@{teccadmin.username}@@:@@{teccadmin.username}@@ \/var\/www\/html\/index.php\n\ncat > \/var\/www\/html\/index.php <<- \"EOF\"\n<html>\n<head>\n  <title>@@{calm_blueprint_name}@@<\/title>\n<\/head>\n<body>\n <h1>Hostname: @@{name}@@ at @@{address}@@, replica: @@{calm_array_index}@@<\/h1>\n<?php\ntry {\n  $dbh = new PDO('mysql:host=@@{MySQL.address}@@;dbname=@@{DATABASE_NAME}@@', '@@{MYSQL_APP_USER}@@', '@@{MYSQL_PASSWORD}@@', array(\n    PDO::ATTR_PERSISTENT => true,\n    PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,\n  ));\n\n  \/\/ ensure there is at least 1 row of data for the app to read\n  $data = $dbh->query(\"INSERT INTO @@{DATABASE_TABLE}@@ (id, time, message) VALUES (NULL, CURRENT_TIMESTAMP, '@@{calm_username}@@')\");\n\n  $data = $dbh->query('SELECT MAX(id) AS count FROM @@{DATABASE_TABLE}@@')->fetchAll(PDO::FETCH_COLUMN);\n  $count = $data[0]; \/\/print_r($data);\n  $data = $dbh->query(\"SELECT time, message FROM @@{DATABASE_TABLE}@@ WHERE id = $count\")->fetchAll(PDO::FETCH_ASSOC);\n  $time = $data[0]['time'];\n  $message = $data[0]['message'];\n\n  echo \"<p>Database records: $count<\/p>\\n\";\n  echo \"<p>Last maintainer: $message, on: $time<\/p>\\n\";\n  echo \"<h3>Web docroot: {$_SERVER[\"DOCUMENT_ROOT\"]}, file: {$_SERVER[\"SCRIPT_NAME\"]}<\/h3>\\n\";\n\n  $dbh = null;\n}\ncatch (PDOException $e) {\n  print \"Error!: \" . $e->getMessage() . \"<br\/>\";\n  print phpinfo();\n  die();\n}\n?><\/body>\n<\/html>\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"4a161ce1_runbook","main_task_local_reference":{"kind":"app_task","name":"a0484eda_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Package2"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Uninstall_WebServer"}],"name":"9ab78648_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Uninstall_WebServer","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\nsudo rm -rf \/var\/www\/html\/* || true\r\nsudo yum erase -y httpd php || true\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"e96f5315_runbook","main_task_local_reference":{"kind":"app_task","name":"9ab78648_dag"},"variable_list":[]}},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"HAProxy"}],"name":"Package3","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Package3"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Linux_OS_Update"},{"kind":"app_task","name":"HAProxy_Install"}],"name":"4a731e9d_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Linux_OS_Update"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"HAProxy_Install"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Linux_OS_Update","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo yum -y update\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Install","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\necho \"__ HAProxy installation...\"\r\nsudo yum install -y haproxy &&\r\n  sudo systemctl enable haproxy || true # idempotent\r\nhaproxy -v\r\n\r\necho \"__ HAProxy configuration...\"\r\n# http:\/\/cbonte.github.io\/haproxy-dconv\/1.8\/configuration.html#4\r\nport=80\r\n\r\necho \"global\r\n  log 127.0.0.1 local0\r\n  log 127.0.0.1 local1 notice\r\n  maxconn 4096\r\n  quiet\r\n  user haproxy\r\n  group haproxy\r\ndefaults\r\n  log global\r\n  mode http\r\n  retries 3\r\n  timeout client 50s\r\n  timeout connect 5s\r\n  timeout server 50s\r\n  option dontlognull\r\n  option httplog\r\n  option redispatch\r\n  balance  roundrobin\r\n# Set up application listeners here.\r\nlisten stats\r\n  bind *:8080\r\n  mode http\r\n  log global\r\n  stats enable\r\n  stats hide-version\r\n  stats refresh 30s\r\n  stats show-node\r\n  stats uri \/stats\r\n#listen admin\r\n#  bind 127.0.0.1:22002\r\n#  mode http\r\n#  stats uri \/\r\nfrontend http\r\n  bind *:${port}\r\n  maxconn 2000\r\n  default_backend servers-http\r\nbackend servers-http\" | sudo tee \/etc\/haproxy\/haproxy.cfg\r\n\r\nsudo sed -i 's\/server host-\/#server host-\/g' \/etc\/haproxy\/haproxy.cfg\r\n\r\nhosts=$(echo \"@@{WebServer.address}@@\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\r\nfor host in $hosts; do\r\n  echo  \"  server host-${host} ${host}:${port} weight 1 maxconn 100 check\" | sudo tee -a \/etc\/haproxy\/haproxy.cfg\r\ndone\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"3c8b5180_runbook","main_task_local_reference":{"kind":"app_task","name":"4a731e9d_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Package3"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Uninstall_HAProxy"}],"name":"f61300e6_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Uninstall_HAProxy","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo yum -y erase haproxy\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"0f94a6b6_runbook","main_task_local_reference":{"kind":"app_task","name":"f61300e6_dag"},"variable_list":[]}},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"MySQL"}],"name":"MySQL_Package","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MySQL_Package"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Linux_OS_Update"},{"kind":"app_task","name":"MySQL_Install"}],"name":"7575a53f_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Linux_OS_Update"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"MySQL_Install"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Linux_OS_Update","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo yum -y update\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccdba"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"MySQL_Install","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\nset -ex\n\n# Assuming CentOS\/RedHat 8.2\necho \"__ Mysql installation...\"\n# https:\/\/dev.mysql.com\/doc\/refman\/8.0\/en\/linux-installation-yum-repo.html\n\nsudo yum install -y \"http:\/\/repo.mysql.com\/mysql80-community-release-el8.rpm\" &&\n  sudo yum module -y disable mysql &&\n  sudo yum install -y mysql-community-server\n\n# database must be started for SQL configuration\nsudo systemctl start mysqld\n# database should start on OS boot\nsudo systemctl enable mysqld\n# sudo systemctl status mysqld.service\n\necho \"__ Altering database root password...\"\n\nmysql --user=root --connect-expired-password \\\n  --password=\"$(sudo grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\" <<- EOF\n\nSET GLOBAL validate_password.policy=LOW;\nALTER user 'root'@'localhost' IDENTIFIED BY '@@{MYSQL_PASSWORD}@@';\n\nFLUSH PRIVILEGES;\nEOF\n\necho \"__ Creating database, table, and app user permissions...\"\n\nmysql --user=root --password='@@{MYSQL_PASSWORD}@@' <<- \"EOF\"\n\nCREATE DATABASE IF NOT EXISTS @@{DATABASE_NAME}@@ ;\nCREATE TABLE IF NOT EXISTS @@{DATABASE_NAME}@@.@@{DATABASE_TABLE}@@ ( \\\n  id INT NOT NULL AUTO_INCREMENT , \\\n  time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP , \\\n  message VARCHAR(80) NULL DEFAULT NULL , \\\n  PRIMARY KEY (id)) \\\n  ENGINE = InnoDB CHARSET=ascii COLLATE ascii_general_ci COMMENT = 'testing';\n\nFLUSH PRIVILEGES;\nCREATE USER '@@{MYSQL_APP_USER}@@'@'%' IDENTIFIED WITH mysql_native_password BY '@@{MYSQL_PASSWORD}@@' \\\n  REQUIRE NONE WITH MAX_QUERIES_PER_HOUR 0 MAX_CONNECTIONS_PER_HOUR 0 MAX_UPDATES_PER_HOUR 0 MAX_USER_CONNECTIONS 0;\nGRANT SELECT, INSERT ON *.* TO '@@{MYSQL_APP_USER}@@'@'%';\n\nCREATE USER '@@{MYSQL_APP_USER}@@'@'localhost' IDENTIFIED WITH mysql_native_password BY '@@{MYSQL_PASSWORD}@@' \\\n  REQUIRE NONE WITH MAX_QUERIES_PER_HOUR 0 MAX_CONNECTIONS_PER_HOUR 0 MAX_UPDATES_PER_HOUR 0 MAX_USER_CONNECTIONS 0;\nGRANT SELECT, INSERT ON *.* TO '@@{MYSQL_APP_USER}@@'@'localhost';\n\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccdba"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"d3b0d52b_runbook","main_task_local_reference":{"kind":"app_task","name":"7575a53f_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"MySQL_Package"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"MySQL_Uninstall"}],"name":"b5d49dd9_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"MySQL_Uninstall","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\necho \"Generic uninstall script, goodbye!\"\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccdba"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"e557590f_runbook","main_task_local_reference":{"kind":"app_task","name":"b5d49dd9_dag"},"variable_list":[]}},"variable_list":[]},{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"WebServer2"}],"name":"WebServer2_Package","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"WebServer2_Package"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Linux_OS_Update"},{"kind":"app_task","name":"Install_WebServer2"},{"kind":"app_task","name":"3Tier_Webapp2"}],"name":"a0484eda_dag_cloned_1","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Linux_OS_Update"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Install_WebServer2"}},{"from_task_reference":{"kind":"app_task","name":"Install_WebServer2"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"3Tier_Webapp2"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Linux_OS_Update","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\n\r\nsudo yum -y update\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Install_WebServer2","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\necho \"__ Install httpd and php...\"\r\nsudo yum install -y httpd\r\nsudo yum install -y php php-gd php-mbstring php-pdo php-mysqlnd\r\n\r\necho \"<IfModule mod_dir.c>\r\n        DirectoryIndex index.php index.html\r\n<\/IfModule>\" | sudo tee \/etc\/httpd\/conf.modules.d\/dir.conf\r\n\r\necho \"<?php\r\nphpinfo();\r\n?>\" | sudo tee \/var\/www\/html\/index.php\r\n\r\nsudo systemctl enable httpd\r\n\r\n# temporarily disable SELinux to prevent httpd to MySQL authentication issues\r\n# this is for testing only and should not be done in production environments\r\necho \"__ Temporarily disable SELinux...\"\r\nsudo setenforce 0\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"3Tier_Webapp2","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\nset -ex\n\nsudo touch \/var\/www\/html\/index.php\nsudo chown @@{teccadmin.username}@@:@@{teccadmin.username}@@ \/var\/www\/html\/index.php\n\ncat > \/var\/www\/html\/index.php <<- \"EOF\"\n<html>\n<head>\n  <title>@@{calm_blueprint_name}@@<\/title>\n<\/head>\n<body>\n <h1>Hostname: @@{name}@@ at @@{address}@@, replica: @@{calm_array_index}@@<\/h1>\n<?php\ntry {\n  $dbh = new PDO('mysql:host=@@{MySQL.address}@@;dbname=@@{DATABASE_NAME}@@', '@@{MYSQL_APP_USER}@@', '@@{MYSQL_PASSWORD}@@', array(\n    PDO::ATTR_PERSISTENT => true,\n    PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,\n  ));\n\n  \/\/ ensure there is at least 1 row of data for the app to read\n  $data = $dbh->query(\"INSERT INTO @@{DATABASE_TABLE}@@ (id, time, message) VALUES (NULL, CURRENT_TIMESTAMP, '@@{calm_username}@@')\");\n\n  $data = $dbh->query('SELECT MAX(id) AS count FROM @@{DATABASE_TABLE}@@')->fetchAll(PDO::FETCH_COLUMN);\n  $count = $data[0]; \/\/print_r($data);\n  $data = $dbh->query(\"SELECT time, message FROM @@{DATABASE_TABLE}@@ WHERE id = $count\")->fetchAll(PDO::FETCH_ASSOC);\n  $time = $data[0]['time'];\n  $message = $data[0]['message'];\n\n  echo \"<p>Database records: $count<\/p>\\n\";\n  echo \"<p>Last maintainer: $message, on: $time<\/p>\\n\";\n  echo \"<h3>Web docroot: {$_SERVER[\"DOCUMENT_ROOT\"]}, file: {$_SERVER[\"SCRIPT_NAME\"]}<\/h3>\\n\";\n\n  $dbh = null;\n}\ncatch (PDOException $e) {\n  print \"Error!: \" . $e->getMessage() . \"<br\/>\";\n  print phpinfo();\n  die();\n}\n?><\/body>\n<\/html>\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"4a161ce1_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"a0484eda_dag_cloned_1"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"WebServer2_Package"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Uninstall_WebServer2"}],"name":"9ab78648_dag_cloned_1","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"WebServer2"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Uninstall_WebServer2","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\nsudo rm -rf \/var\/www\/html\/* || true\r\nsudo yum erase -y httpd php || true\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"e96f5315_runbook_cloned_0","main_task_local_reference":{"kind":"app_task","name":"9ab78648_dag_cloned_1"},"variable_list":[]}},"variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"GREENFIELD","action_list":[],"name":"8d7a5c0b_deployment","min_replicas":"2","default_replicas":"2","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"4","package_local_reference_list":[{"kind":"app_package","name":"Package2"}],"substrate_local_reference":{"kind":"app_substrate","name":"WebServerAHV"},"variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"name":"4e46245a_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"Package3"}],"substrate_local_reference":{"kind":"app_substrate","name":"HAProxyAHV"},"variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"name":"03185f76_deployment","min_replicas":"1","default_replicas":"1","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"1","package_local_reference_list":[{"kind":"app_package","name":"MySQL_Package"}],"substrate_local_reference":{"kind":"app_substrate","name":"MySQLAHV"},"variable_list":[],"description":""},{"type":"GREENFIELD","action_list":[],"name":"e429b102_deployment","min_replicas":"2","default_replicas":"2","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"4","package_local_reference_list":[{"kind":"app_package","name":"WebServer2_Package"}],"substrate_local_reference":{"kind":"app_substrate","name":"WebServerAHV2"},"variable_list":[],"description":""}],"description":"","action_list":[{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleOut"},{"kind":"app_task","name":"HAProxy_Update"},{"kind":"app_task","name":"Restart"}],"name":"f64e8214_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"HAProxy_Update"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Restart"}},{"from_task_reference":{"kind":"app_task","name":"ScaleOut"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"HAProxy_Update"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8d7a5c0b_deployment"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ScaleOut","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Update","attrs":{"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\necho \"__ HAProxy installation...\"\r\nsudo yum install -y haproxy &&\r\n  sudo systemctl enable haproxy || true # idempotent\r\nhaproxy -v\r\n\r\necho \"__ HAProxy configuration...\"\r\n# http:\/\/cbonte.github.io\/haproxy-dconv\/1.8\/configuration.html#4\r\nport=80\r\n\r\necho \"global\r\n  log 127.0.0.1 local0\r\n  log 127.0.0.1 local1 notice\r\n  maxconn 4096\r\n  quiet\r\n  user haproxy\r\n  group haproxy\r\ndefaults\r\n  log global\r\n  mode http\r\n  retries 3\r\n  timeout client 50s\r\n  timeout connect 5s\r\n  timeout server 50s\r\n  option dontlognull\r\n  option httplog\r\n  option redispatch\r\n  balance  roundrobin\r\n# Set up application listeners here.\r\nlisten stats\r\n  bind *:8080\r\n  mode http\r\n  log global\r\n  stats enable\r\n  stats hide-version\r\n  stats refresh 30s\r\n  stats show-node\r\n  stats uri \/stats\r\n#listen admin\r\n#  bind 127.0.0.1:22002\r\n#  mode http\r\n#  stats uri \/\r\nfrontend http\r\n  bind *:${port}\r\n  maxconn 2000\r\n  default_backend servers-http\r\nbackend servers-http\" | sudo tee \/etc\/haproxy\/haproxy.cfg\r\n\r\nsudo sed -i 's\/server host-\/#server host-\/g' \/etc\/haproxy\/haproxy.cfg\r\n\r\nhosts=$(echo \"@@{WebServer.address}@@\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\r\nfor host in $hosts; do\r\n  echo  \"  server host-${host} ${host}:${port} weight 1 maxconn 100 check\" | sudo tee -a \/etc\/haproxy\/haproxy.cfg\r\ndone\r\n","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"a5b1f46f_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"70ad38ee_runbook","main_task_local_reference":{"kind":"app_task","name":"f64e8214_dag"},"variable_list":[]},"name":"WebScaleOut"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"HAProxy_Update"},{"kind":"app_task","name":"Restart"},{"kind":"app_task","name":"ScaleIn"}],"name":"9ce9e4c3_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"HAProxy_Update"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Restart"}},{"from_task_reference":{"kind":"app_task","name":"Restart"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"ScaleIn"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Update","attrs":{"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\necho \"__ HAProxy installation...\"\r\nsudo yum install -y haproxy &&\r\n  sudo systemctl enable haproxy || true # idempotent\r\nhaproxy -v\r\n\r\necho \"__ HAProxy configuration...\"\r\n# http:\/\/cbonte.github.io\/haproxy-dconv\/1.8\/configuration.html#4\r\nport=80\r\n\r\necho \"global\r\n  log 127.0.0.1 local0\r\n  log 127.0.0.1 local1 notice\r\n  maxconn 4096\r\n  quiet\r\n  user haproxy\r\n  group haproxy\r\ndefaults\r\n  log global\r\n  mode http\r\n  retries 3\r\n  timeout client 50s\r\n  timeout connect 5s\r\n  timeout server 50s\r\n  option dontlognull\r\n  option httplog\r\n  option redispatch\r\n  balance  roundrobin\r\n# Set up application listeners here.\r\nlisten stats\r\n  bind *:8080\r\n  mode http\r\n  log global\r\n  stats enable\r\n  stats hide-version\r\n  stats refresh 30s\r\n  stats show-node\r\n  stats uri \/stats\r\n#listen admin\r\n#  bind 127.0.0.1:22002\r\n#  mode http\r\n#  stats uri \/\r\nfrontend http\r\n  bind *:${port}\r\n  maxconn 2000\r\n  default_backend servers-http\r\nbackend servers-http\" | sudo tee \/etc\/haproxy\/haproxy.cfg\r\n\r\nsudo sed -i 's\/server host-\/#server host-\/g' \/etc\/haproxy\/haproxy.cfg\r\n\r\nhosts=$(echo \"@@{WebServer.address}@@\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\r\nfor host in $hosts; do\r\n  echo  \"  server host-${host} ${host}:${port} weight 1 maxconn 100 check\" | sudo tee -a \/etc\/haproxy\/haproxy.cfg\r\ndone\r\n","type":"","command_line_args":"","exit_status":[],"script_type":"sh"},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"a5b1f46f_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"8d7a5c0b_deployment"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ScaleIn","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[]}],"description":"","name":"aaf64601_runbook","main_task_local_reference":{"kind":"app_task","name":"9ce9e4c3_dag"},"variable_list":[]},"name":"WebScaleIn"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"DatabaseBackup"}],"name":"ba8861e3_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"MySQL"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"DatabaseBackup","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\r\nset -ex\r\n\r\nmysqldump --all-databases --user=root --password='@@{MYSQL_PASSWORD}@@'\r\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccdba"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"7d84192b_runbook","main_task_local_reference":{"kind":"app_task","name":"ba8861e3_dag"},"variable_list":[]},"name":"DatabaseBackup"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleOut2"},{"kind":"app_task","name":"HAProxy_Update"},{"kind":"app_task","name":"Restart"}],"name":"6c8d2d3d_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"HAProxy_Update"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Restart"}},{"from_task_reference":{"kind":"app_task","name":"ScaleOut2"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"HAProxy_Update"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"e429b102_deployment"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ScaleOut2","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Update","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\nset -ex\n\necho \"__ HAProxy installation...\"\nsudo yum install -y haproxy &&\n  sudo systemctl enable haproxy || true # idempotent\nhaproxy -v\n\necho \"__ HAProxy configuration...\"\n# http:\/\/cbonte.github.io\/haproxy-dconv\/1.8\/configuration.html#4\nport=80\n\necho \"global\n  log 127.0.0.1 local0\n  log 127.0.0.1 local1 notice\n  maxconn 4096\n  quiet\n  user haproxy\n  group haproxy\ndefaults\n  log global\n  mode http\n  retries 3\n  timeout client 50s\n  timeout connect 5s\n  timeout server 50s\n  option dontlognull\n  option httplog\n  option redispatch\n  balance  roundrobin\n# Set up application listeners here.\nlisten stats\n  bind *:8080\n  mode http\n  log global\n  stats enable\n  stats hide-version\n  stats refresh 30s\n  stats show-node\n  stats uri \/stats\n#listen admin\n#  bind 127.0.0.1:22002\n#  mode http\n#  stats uri \/\nfrontend http\n  bind *:${port}\n  maxconn 2000\n  default_backend servers-http\nbackend servers-http\" | sudo tee \/etc\/haproxy\/haproxy.cfg\n\nsudo sed -i 's\/server host-\/#server host-\/g' \/etc\/haproxy\/haproxy.cfg\n\nhosts=$(echo \"@@{WebServer.address}@@,@@{WebServer2.address}@@\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nfor host in $hosts; do\n  echo  \"  server host-${host} ${host}:${port} weight 1 maxconn 100 check\" | sudo tee -a \/etc\/haproxy\/haproxy.cfg\ndone\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"a5b1f46f_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"00a11df3_runbook","main_task_local_reference":{"kind":"app_task","name":"6c8d2d3d_dag"},"variable_list":[]},"name":"WebScaleOut2"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"HAProxy_Update"},{"kind":"app_task","name":"Restart"},{"kind":"app_task","name":"ScaleIn2"}],"name":"bf5b779b_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"HAProxy_Update"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Restart"}},{"from_task_reference":{"kind":"app_task","name":"Restart"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"ScaleIn2"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"HAProxy_Update","attrs":{"exit_status":[],"script":"#!\/usr\/bin\/env bash\nset -ex\n\necho \"__ HAProxy installation...\"\nsudo yum install -y haproxy &&\n  sudo systemctl enable haproxy || true # idempotent\nhaproxy -v\n\necho \"__ HAProxy configuration...\"\n# http:\/\/cbonte.github.io\/haproxy-dconv\/1.8\/configuration.html#4\nport=80\n\necho \"global\n  log 127.0.0.1 local0\n  log 127.0.0.1 local1 notice\n  maxconn 4096\n  quiet\n  user haproxy\n  group haproxy\ndefaults\n  log global\n  mode http\n  retries 3\n  timeout client 50s\n  timeout connect 5s\n  timeout server 50s\n  option dontlognull\n  option httplog\n  option redispatch\n  balance  roundrobin\n# Set up application listeners here.\nlisten stats\n  bind *:8080\n  mode http\n  log global\n  stats enable\n  stats hide-version\n  stats refresh 30s\n  stats show-node\n  stats uri \/stats\n#listen admin\n#  bind 127.0.0.1:22002\n#  mode http\n#  stats uri \/\nfrontend http\n  bind *:${port}\n  maxconn 2000\n  default_backend servers-http\nbackend servers-http\" | sudo tee \/etc\/haproxy\/haproxy.cfg\n\nsudo sed -i 's\/server host-\/#server host-\/g' \/etc\/haproxy\/haproxy.cfg\n\nhosts=$(echo \"@@{WebServer.address}@@,@@{WebServer2.address}@@\" | sed 's\/^,\/\/' | sed 's\/,$\/\/' | tr \",\" \"\\n\")\nfor host in $hosts; do\n  echo  \"  server host-${host} ${host}:${port} weight 1 maxconn 100 check\" | sudo tee -a \/etc\/haproxy\/haproxy.cfg\ndone\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"teccadmin"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"HAProxy"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Restart","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"a5b1f46f_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"e429b102_deployment"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"ScaleIn2","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[]}],"description":"","name":"ffce4d82_runbook","main_task_local_reference":{"kind":"app_task","name":"bf5b779b_dag"},"variable_list":[]},"name":"WebScaleIn2"}],"name":"Nutanix","variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"USER_INITIALS","value":"yrsl","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MYSQL_APP_USER","value":"webapp_user","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"regex":{"should_validate":false,"value":""},"val_type":"STRING","is_mandatory":true,"description":"MySQL low password security requirements are 8 or more characters with at least 1 uppercase character","data_type":"BASE","type":"SECRET","name":"MYSQL_PASSWORD","value":"hfW8zPwHhOp5cOyW6yqTudAVq4YZqDKzZjbfcDgXxOBr7Pth2wASsAXf:utf-8","label":"","attrs":{"is_secret_modified":false,"secret_reference":{},"type":"SECRET"},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"DATABASE_NAME","value":"webapp","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"DATABASE_TABLE","value":"tecc_dba_test","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}]}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"superuser"},"type":"USER"},"name":"Production-3Tier-Application"},"api_version":"3.0","metadata":{"last_update_time":"1606655982646392","kind":"blueprint","spec_version":25,"creation_time":"1606652340246775","name":"Production-3Tier-Application"}}